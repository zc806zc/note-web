# 脚手架

- gulp > webpack
- 小程序 Gulp 开发脚手架 https://github.com/ksky521/gulp-wxapp-boilerplate

# Mock Server

- 使用 nodemon 对 server 进行自动重启

# 云开发

- 云开发 https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html
- 下载开发者工具Beta

```
开发者工具会冲突!!
```

- NoSQL 数据库 + 文件存储 + 云函数

# 用户登录和授权流程

- 临时登录凭证 code
- 获取 openid 和 session_key

# 调试

- debugx5.qq.com

# 部署上线 

- 审核 ： 一般一次审核在几个小时到一天之间，第一次审核会相对慢一些
- 设置体验版本 ; 小范围公测

# 代码优化

- 循环 

```js
// 下面的操作是不推荐的
for(let i = 0; i < items.length; i++ ){
  this.setData({
    key: items[i]
  })
}
```

- 节流

```js
let timer;
$(window).scroll(() => {
  if(timer){
    clearTimeout(timer)
  }
  timer = setTimeout(() => {
    // 延时 200ms，处理滚动逻辑
  }, 200)
})
```

# 小程序优化

- 白屏时间 -> 骨架屏
- 利用逻辑层空闲时间预加载数据
- 默认数据缓存
  - https://developers.weixin.qq.com/miniprogram/dev/api/data.html
- 采用分包机制