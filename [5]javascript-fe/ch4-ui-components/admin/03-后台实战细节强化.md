# 实战

- https://juejin.im/post/593121aa0ce4630057f70d35

# 框架使用

- element UI 相较 antd还存在差距
- 大部分诡异的问题都可以通过加一个key或者 Vue.nextTick来解决
- 样式

```
.aritle-page{ //你的命名空间
    .el-tag { //element-ui 元素
      margin-right: 0px;
    }
}
```

# 换肤

# 侧边栏

- 用户习惯点击侧边栏刷新页面 -> 监听侧边栏每个link 的 click事件，每次点击都给router push 一个不一样的query 来确保会重新刷新view
  - activated

```js
// 对应路由高亮
:default-active="$route.path"
```

# 表格

- 拖拽排序
    - Sortable (基于DOM) https://github.com/RubaXa/Sortable
    - Vue.Draggable https://github.com/SortableJS/Vue.Draggable 

```js
this.sortable = Sortable.create(el, {
  onEnd: evt => { //监听end事件 手动维护列表
    const tempIndex = this.newList.splice(evt.oldIndex, 1)[0];
    this.newList.splice(evt.newIndex, 0, tempIndex);
  }
});
```

- 内联编辑

# JSX

```shell
npm install\
  babel-plugin-syntax-jsx\
  babel-plugin-transform-vue-jsx\
  babel-helper-vue-jsx-merge-props\
  babel-preset-es2015\
  --save-dev

{
  "presets": ["es2015"],
  "plugins": ["transform-vue-jsx"]
}
```

# 使用Echarts

```js
// 引入 ECharts 主模块
var echarts = require('echarts/lib/echarts');
// 引入柱状图
require('echarts/lib/chart/bar');
// 引入提示框和标题组件
require('echarts/lib/component/tooltip');
require('echarts/lib/component/title');

//第一种 watch options变化 利用vue的深度 watcher，options一有变化就重新setOption
watch: {
  options: {
    handler(options) {
      this.chart.setOption(this.options)
    },
    deep: true
  },
}
//第二种 只watch 数据的变化 只有数据变化时触发ECharts
watch: {
  seriesData(val) {
    this.setOptions({series:val})
  }
}
```