# 加载优化

- <https://juejin.im/post/5a4ed917f265da3e317df515>

```html

<!--  用于预防XSS  -->
<meta http-equiv="Content-Security-Policy" content="script-src 'self'; style-src nos.netease.com kaola.com;">

<!-- http转https  -->
<meta http-equiv="Content-Secur****ity-Policy" content="upgrade-insecure-requests">

<!-- 用于阻止Mixed Content -->
<meta http-equiv="Content-Security-Policy" content="block-all-mixed-content">
```

# css优化

- <https://juejin.im/post/5a461f006fb9a0450408358f>

- css中用到的字体文件，一定要在所有css之前proload上

```html
<link rel="preload" href="/webfont.woff2" as="font">
```

- 首页CSS内联，非必要CSS异步加载

```javascript
function LoadStyle(url) {
  try {
    document.createStyleSheet(url)
  } catch(e) {
    var cssLink = document.createElement('link'); // 创建
    cssLink.rel = 'stylesheet';
    cssLink.type = 'text/css';
    cssLink.href = url;
    var head = document.getElementsByTagName('head')[0];
    head.appendChild(cssLink); // 追加
  }
}

// webpack
import 'style.css'
improt('path-of-a.js').then(module => {})
```
