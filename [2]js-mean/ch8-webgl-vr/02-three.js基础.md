# åœºæ™¯ä¸å…‰æº

- è®©IEæ”¯æŒwebGL
- [iewebgl](http://iewebgl.com/)

```javascript

Google Chrome Frame
```

- ç¼–è¾‘å™¨
- [c9.io](http://c9.io)

```javascript

WebStromæ”¯æŒgit
```

- æœåŠ¡å™¨

```javascript

Python -- Unix/Mac Node.js+NPM -- HTTP Server Mongoose -- Mac/Windowsç§»æ¤ æ¨è

WebStrom å¯¹äº(è‡ªå·±åˆ›å»ºçš„åŸŸä¸‹)åŒåçš„æ–‡ä»¶ä¼šæœ‰æœ¬åœ°ä¿å­˜ï¼Œ ä¸€ç›´é—¹é¬¼çš„è¯æµè§ˆå™¨æ‰‹åŠ¨æ¸…ç†ä¸‹
```

- ä¸‰ç»´å¯¹è±¡

```javascript

Plane å¹³é¢ Cube æ–¹å— Sphere çƒä½“ Camera ç›¸æœº å†³å®šçœ‹åˆ°çš„è¾“å‡ºç»“æœ Axes è½´ æœ‰åŠ©äºè°ƒè¯•
```

- ä¸æ¨èCanvaså’ŒSVGï¼Ÿ

```javascript

ååˆ†è€—è´¹CPUèµ„æº ç¼ºä¹æŸäº›åŠŸèƒ½ï¼šä¾‹æ”¯æŒå¤æ‚æè´¨å’Œé˜´å½±
```

- ä¸€äº›ä¸åœºæ™¯æœ‰å…³çš„å‡½æ•°

```javascript

Scene.Add() Scene.Remove() Scene.children() è·å–åœºæ™¯ä¸­æ‰€æœ‰å­å¯¹è±¡çš„åˆ—è¡¨ Sne.getChildByName()
```

- å…‰çš„ç±»å‹

```javascript

AmbientLight æ•´ä½“å…‰ ä¸éœ€è¦æŒ‡å®šä½ç½® ä¸å½±å“é˜´å½±ç”Ÿæˆ ç”¨äºå¼±åŒ–é˜´å½±æˆ–æ·»åŠ é¢œè‰² ç”¨è‰²è¦ä¿å®ˆ

PointLight å¤œç©ºä¸­çš„ç…§æ˜å¼¹ color intensity distance position visible SpotLight æœ€å¸¸ç”¨ é”¥å½¢æ•ˆæœ æ‰‹ç”µç­’

exponent å…‰å¼ºä»¥å¤šå¿«çš„é€Ÿåº¦ä»ä¸­å¿ƒå¼€å§‹è¡°å‡ é«˜intensity + é«˜exponent å°exponent + å°angle(è§’åº¦å¤ªå°æ¸²æŸ“å¤±çœŸ)

DirectinalLight å¤ªé˜³å…‰ å¹³è¡Œå…‰ è¢«æ–¹å‘å…‰ç…§äº®çš„åŒºåŸŸå—åˆ°çš„å…‰å¼ºæ˜¯ä¸€æ ·çš„ åŒ…å›´å¯¹è±¡çš„ç©ºé—´å®šä¹‰å¾—è¶Šç´§å¯†ï¼ŒæŠ•å½±çš„æ•ˆæœè¶Šå¥½ HemisphereLight åŠçƒå…‰å…‰æº å®¤å¤– è‡ªç„¶ æ›¿ä»£æ–¹æ¡ˆï¼šæ–¹å‘å…‰æ¥æ¨¡æ‹Ÿå¤ªé˜³æˆ–ç¯å¢ƒå…‰ä¸ºåœºæ™¯æä¾›åŸºç¡€è‰² groundColor(åœ°é¢å‘å‡ºçš„å…‰çº¿) Color(å¤©ç©º) intensity

AreaLight å¹³é¢å…‰ ä¸åœ¨æ ‡å‡†åº“ä¸­ æ”¹ç”¨THREE.WebGLDeferredRender å»¶è¿Ÿæ¸²æŸ“å™¨
```

- é•œå¤´çœ©å…‰ï¼šæœç€å¤ªé˜³æ‹ç…§
- THREE.Colorå¯¹è±¡

# åŠ¨ç”»ä¸ç›¸æœº

- åŸºç¡€åŠ¨ç”»
- [Tween.js](https://github.com/sole/tween.js/)

```javascript

ä½ç½® æ—‹è½¬ ç¼©æ”¾
```

- ç§»åŠ¨ç›¸æœº

```javascript

ç›¸æœºæ§ä»¶ ç¬¬ä¸€äººç§°æ§ä»¶ FirstPersonControls

é£è¡Œæ§ä»¶ FlyControls æŒ‰ä½å·¦é”®å’Œä¸­é”® å¾€å‰ç§»åŠ¨ æŒ‰ä½å³é”® å¾€åç§»åŠ¨ ç§»åŠ¨é¼ æ ‡ å¾€å››å‘¨çœ‹ W å¾€å‰ç§»åŠ¨ S å¾€åç§»åŠ¨ A å·¦ç§» D å³ R ä¸Š F ä¸‹ G å‘å·¦ç¿»æ»š E å‘å³ç¿»æ»š ç¿»æ»šæ§ä»¶ RollControls æŒ‰ä½å·¦é”® å¾€å‰ç§»åŠ¨ æŒ‰ä½å³é”® å¾€åç§»åŠ¨ W å‰ç§» A å·¦ç§» S åç§» D å³ç§» Q å¾€å·¦ç¿»æ»š E å¾€å³ç¿»æ»š R ä¸Šç§» F ä¸‹ç§» è½¨è¿¹çƒæ§ä»¶ æœ€å¸¸ç”¨ TrackballControls å³é”®å¹³ç§» å·¦é”®æ—‹è½¬ç¿»æ»šç›¸æœº ä¸­é”®ç¼©æ”¾ è½¨é“æ§ä»¶ æ¨¡æ‹Ÿè½¨é“ä¸­çš„å«æ˜Ÿ OrbitControls è·¯å¾„æ§ä»¶ è¿‡å±±è½¦... PathControls è‡ªå®šä¹‰è·¯å¾„ ç¼“æ…¢èºæ—‹å¼ä¸Šå‡
```

- å˜å½¢å’Œè’™çš®

```javascript

å˜å½¢åŠ¨ç”» å®šä¹‰å‡ ä½•ä½“ä¹‹é—´çš„è¿‡æ¸¡ MorphAnimMesh å˜å½¢åŠ¨ç”»ç½‘æ ¼ parseAnimations() playAnimation(name, fps) éª¨éª¼åŠ¨ç”» éª¨éª¼å’Œè’™çš®æŠ€æœ¯å¤„ç†è¿‡æ¸¡ å¦‚ä½•ä»Blenderä¸­è¾ƒå¥½çš„å¯¼å‡ºæ•°æ® SkinnedMesh
```

- åŠ è½½å¤–éƒ¨åŠ¨ç”»
- [è½¬åŒ–](http://oos.moxiecode.com/js_webgl/md2_converter/)

```javascript

å¸¦æœ‰JSONå¯¼å‡ºå™¨çš„Blender Colladaæ¨¡å‹ MD2æ¨¡å‹ è€é›·ç¥å¼•æ“ä½¿ç”¨çš„ç®€å•æ ¼å¼ ä¿å­˜è§’è‰²åŠ¨ç”»çš„æ–‡ä»¶
```

- Blenderåˆ›å»ºåŠ¨ç”»æ³¨æ„

```javascript
æ¨¡å‹ä¸­çš„é¡¶ç‚¹è‡³å°‘è¦åœ¨ä¸€ä¸ªé¡¶ç‚¹ç»„ä¸­ Blenderä¸­é¡¶ç‚¹ç»„çš„åå­—å¿…é¡»è·Ÿæ§åˆ¶è¿™ä¸ªé¡¶ç‚¹ç»„çš„éª¨å¤´çš„åå­—ç›¸å¯¹åº” åªæœ‰ç¬¬ä¸€ä¸ªactionå¯ä»¥å¯¼å‡º åˆ›å»ºkeyframes å…³é”®å¸§å, æœ€å¥½é€‰æ‹©æ‰€æœ‰çš„éª¨å¤´ å¯¼å‡ºæ¨¡å‹, è¦ä¿è¯æ¨¡å‹å¤„äºé™æ­¢çŠ¶æ€ã€‚
```

# æè´¨

- æè´¨
- [ä¾‹å­](https://www.shadertoy.com/view/4dXGR4)

```javascript

ç½‘æ ¼åŸºç¡€æè´¨ MeshBasicMaterial
ç½‘æ ¼æ·±åº¦æè´¨ MeshDepthMaterial ç½‘æ ¼åˆ°ç›¸æœºçš„è·ç¦»
é€æ¸æ¶ˆå¤±çš„æ•ˆæœ
wireframe wireframeLinewidth
è®¾ç½®cameraNear
è®¾ç½®cameraFar è¶…å‡ºå¯è§è·ç¦»çœ‹ä¸è§
ç½‘æ ¼æ³•å‘æè´¨ MeshNormalMaterial
å†³å®šå…‰çš„åå°„æ–¹å‘
THREE.FlatShading å¹³é¢ç€è‰²
THREE.SmoothShading å¹³æ»‘ç€è‰²
ç½‘æ ¼é¢æè´¨ MeshFaceMaterial
ç½‘æ ¼æœ—ä¼¯æè´¨ MeshLambertMaterial å…‰ç…§ ä¸å…‰äº®ç‰©ä½“
ambient ç¯å¢ƒè‰²
emissive æè´¨å‘å°„çš„é¢œè‰² ä¸æ˜¯å…‰æº ä¸å—å…¶ä»–å…‰ç…§å½±å“
ç½‘æ ¼Phongå¼æè´¨ MeshPhongMaterial å…‰ç…§ å…‰äº®ç‰©ä½“
ambient emissive
specular é•œé¢çš„ é‡‘å±/å¡‘æ–™è´¨æ„Ÿ
shininess é«˜å…‰éƒ¨åˆ†çš„äº®åº¦
ç€è‰²å™¨æè´¨ ShaderMaterial è‡ªå®šä¹‰ é¡¶ç‚¹
å±æ€§...
ç›´çº¿åŸºç¡€æè´¨ LineBasicMaterial ç›´çº¿å‡ ä½•ä½“
è™šçº¿æè´¨ LineDashedMaterial åŒä¸Š
çŸ­åˆ’çº¿é•¿åº¦
çŸ­åˆ’çº¿ä¸­é—´ç©ºæ ¼é•¿åº¦
å¿…é¡»è°ƒç”¨computeLineDistances()
```

- æè´¨å±æ€§

```javascript

åŸºç¡€å±æ€§
èåˆå±æ€§ ä¸èƒŒæ™¯çš„èåˆ
é«˜çº§å±æ€§ æ§åˆ¶åº•å±‚webglä¸Šä¸‹æ–‡æ¸²æŸ“ç‰©ä½“
```

- çº¹ç†

```javascript

äºŒç»´é«˜é¢‘ç»†èŠ‚
å‡ ä½•å»ºæ¨¡é™åˆ¶
ç¯å¢ƒçº¹ç†æ˜ å°„ Enviroment mapping
ç¯å¢ƒåŒ…è£…ç›’å’Œæ›²é¢æ³•å‘ä¹‹é—´çš„æ˜ å°„
çº¹ç†ç©ºé—´ ç‰©ä½“ç©ºé—´ çº¹ç†åæ ‡ ==> å‡½æ•°æ˜ å°„
```

- æè´¨

```javascript

color = Normal
Normal = color è´´å›¾
```

- UVå·¥å…· ç¾å·¥
- çº¹ç†

```javascript

å‡¹å‡¸è´´å›¾å’Œæ³•çº¿è´´å›¾ æ·»åŠ æ·±åº¦å’Œç»†èŠ‚ åè€…æ›´ç»†è‡´
å…‰ç…§è´´å›¾ å‡é˜´å½± é™æ€åœºæ™¯
ç¯å¢ƒè´´å›¾ æè´¨ä¸Šçš„åå…‰ç»†èŠ‚
åˆ›å»ºä¸€ä¸ªCubeMapå¯¹è±¡ 6ä¸ªçº¹ç†çš„é›†åˆ
åˆ›å»ºä¸€ä¸ªå¸¦æœ‰è¿™ä¸ªCubeMapå¯¹è±¡çš„æ–¹å—
å°†CubeMapä½œä¸ºçº¹ç†
é«˜å…‰è´´å›¾ è®©ç½‘æ ¼çš„æŸäº›éƒ¨åˆ†å˜å¾—å…‰äº®
ä¿®æ”¹ç½‘æ ¼çš„UVè´´å›¾ å¯¹è´´å›¾è¿›è¡Œå¾®è°ƒ
HTML5ç”»å¸ƒå’Œè§†é¢‘å…ƒç´ ä½œä¸ºçº¹ç†è¾“å…¥
```

- çº¹ç†çš„ç”¨æ³•

```javascript

å®šä¹‰ç½‘æ ¼çš„é¢œè‰²
é«˜å…‰ + å‡¹å‡¸ + åå…‰
```

- æ³¨æ„
- [å…³äºUVè´´å›¾](http://stackoverflow.com/questions/15137695/three-js-lightmap-causes-an-error-webglrenderingcontext-gl-error-gl-invalid-op)
- [ç¯å¢ƒè´´å›¾ç¤ºä¾‹å›¾ç‰‡æ¥æº](http://www.humus.name/index.php?page=Textures)

```javascript

æœ€å¥½ä½¿ç”¨æ­£æ–¹å½¢å›¾ç‰‡ âˆµmipmap
256 x 256, 512 x 512, 1024 x 1024
ç­‰å¾…çº¹ç†åŠ è½½å®Œæˆ

texture = THREE.ImageUtils.loadTexture('texture.png', {},
0020function() { renderer.render(scene); }); // ??

magFilter LinearFilter
minFilter LinearMipMapLinearFilter

è®¡ç®—ç¯å¢ƒåå…‰ç‰¹åˆ«è€—è´¹CPU å…‰çº¿è¿½è¸ªæ³•

æœ€å¥½çš„æ•ˆæœå¾€å¾€æ˜¯ç”¨ä½å…‰äº®åº¦å®ç°çš„
é«˜å…‰è´´å›¾è¿˜ä¼šå—åˆ°å…‰ç…§çš„å½±å“
```

- çº¹ç†çš„é«˜çº§ç”¨é€”
- [literallyåº“](http://literallycanvas.com/) åˆ›å»ºäº¤äº’å¼çš„ç”»å¸ƒ
- [Perlinå™ªéŸ³](https://github.com/wwwtyro/perlin.js)

```javascript

å®šåˆ¶UVæ˜ å°„ æŒ‡å®šå“ªä¸€éƒ¨åˆ†æ˜¾ç¤ºåœ¨ç‰©ä½“è¡¨é¢
å›¾ç‰‡åŠ è½½æ˜¯å¼‚æ­¥çš„ æ¸²æŸ“å¾ªç¯ å›è°ƒå‡½æ•°
çº¹ç†çš„repeatå±æ€§ åŒ…è£¹å±æ€§ ClampToEdgeWrapping â†’ RepeatWrapping
```

- æ¸²æŸ“åæœŸå¤„ç†

```javascript

åŸºæœ¬åæœŸå¤„ç†é€šé“
BloomPass æ³›å…‰é€šé“ å’Œ FilmPass èƒ¶ç‰‡é€šé“
æ©ç 
TexturePass çº¹ç†é€šé“ ä¿å­˜æ¸²æŸ“ç»“æœ
ShaderPass ç€è‰²å™¨é€šé“
eg.è¤è‰²æ»¤é•œ é•œåƒæ•ˆæœ é¢œè‰²è°ƒæ•´
æ¨¡ç³Šæ•ˆæœ æ›´é«˜çº§çš„æ»¤é•œ
å¼€å‘ä¸€ä¸ªç®€å•çš„ç€è‰²å™¨ï¼Œæ¥åˆ›å»ºè‡ªå®šä¹‰çš„åæœŸå¤„ç†æ•ˆæœ
æ­¥éª¤
åˆ›å»ºEffectComposerå¯¹è±¡ åœ¨å¯¹è±¡ä¸Šæ·»åŠ åæœŸå¤„ç†é€šé“
åœ¨renderå¾ªç¯ä¸­ä½¿ç”¨EffectComposeræ¸²æŸ“åœºæ™¯
HorizontalTiltShiftShader ç§»è½´
å®šåˆ¶ç°åº¦å›¾ç€è‰²å™¨
vertexShader è°ƒæ•´æ¯ä¸ªé¡¶ç‚¹çš„ä½ç½®
fragmentShader å†³å®šæ¯ä¸ªåƒç´ çš„é¢œè‰²
å®šåˆ¶ä½ç€è‰²å™¨
```

- åæœŸå¤„ç†é€šé“

```javascript

BloomPass
DotScreenPass ä¸€å±‚é»‘ç‚¹
FilmPass ç”µè§†å±å¹•
MaskPass æ©è†œ
RenderPass
SavePass
ShaderPass
TexturePass
```

- basic-vertex-shader

```javascript

Use this as displacement:
Base example on [this](http://aerotwist.com/tutorials/an-introduction-to-shaders-part-2/)
Show this as [example](http://www.clicktorelease.com/code/perlin/explosion.html)
```

- basic-fragment-shader

```javascript
Create something like this:

// pass in mouse as uniforms
// pass in resolution?


#ifdef GL_ES
precision mediump float;
#endif

uniform float time;
uniform vec2 mouse;
uniform vec2 resolution;

void main( void ) {

vec2 position = ( gl_FragCoord.xy / resolution.xy ) + mouse / 4.0;

float color = 0.0;
color += sin( position.x * cos( time / 15.0 ) * 80.0 ) + cos( position.y * cos( time / 15.0 ) * 10.0 );
color += sin( position.y * cos( time / 10.0 ) * 40.0 ) + cos( position.x * sin( time / 25.0 ) * 40.0 );
color += sin( position.x * sin( time / 5.0 ) * 10.0 ) + sin( position.y * sin( time / 35.0 ) * 80.0 );
color *= sin( time / 10.0 ) * 0.5;

gl_FragColor = vec4( vec3( color, color * 0.5, sin( color + time / 3.0 ) * 0.75 ), 1.0 );

}
```

- åæœŸå¤„ç†æ³¨æ„

```javascript

ä¸æ˜¯æ‰€æœ‰é€šé“çš„ç»“æœéƒ½ä¼šè¾“å‡ºåˆ°å±å¹•
æ•ˆæœç»„åˆå™¨æ·»åŠ é€šé“çš„é¡ºåºå¾ˆé‡è¦
é‡ç”¨æŸä¸ªEffectComposer,å¯ä»¥ä½¿ç”¨TexturePass
EffectComposeræœ‰å¤šä¸ªRenderPass clearè®¾ä¸ºfalse
```

- Physijs æ·»åŠ ç‰©ç†æ•ˆæœ
- [Physijs](http://chandlerprall.github.io/Physijs/)
- å¦ä¸€ä¸ªè‘—åçš„ç‰©ç†å¼•æ“ [ammo.js](https://github.com/kripken/ammo.js/)
- [ç½‘é¡µçº¿ç¨‹web workers](https://html.spec.whatwg.org/multipage/workers.html)

```javascript

åå°çº¿ç¨‹ä¸­æ‰§è¡Œè®¡ç®—
Physijsåªæ˜¯ammo.jsçš„ä¸€ä¸ªåŒ…è£…å™¨
Cannon.js
Physijsçš„åŸºç¡€å›¾å½¢
PlaneMesh åšåº¦ä¸º0çš„å¹³é¢
BoxMesh ç±»ä¼¼æ–¹å—çš„å‡ ä½•ä½“
SphereMesh çƒå½¢
CylinderMesh ä¸Šä¸‹ä¸€è‡´çš„åœ†æŸ±ä½“
ConeMesh
CapsuleMesh èƒ¶å›Šç½‘æ ¼
ConvexMesh å‡¸åŒ…ç½‘æ ¼
ConcaveMesh æ¯”ä¸Šé¢ç»†è‡´ ä½†æ€§èƒ½å½±å“æå¤§
HeightfieldMesh é«˜åº¦åœºç½‘æ ¼
ä½¿ç”¨çº¦æŸé™åˆ¶å¯¹è±¡ç§»åŠ¨
PointConstraint é™åˆ¶ä¸¤ç‚¹é—´çš„ç§»åŠ¨
HingeConstraint æ´»é¡µ/é—¨
SliderConstraint å°†ç§»åŠ¨é™åˆ¶åˆ°ä¸€ä¸ªè½´
ConeTwistConstraint çƒé”€ ç§»åŠ¨å—ä¸€ç³»åˆ—è§’åº¦é™åˆ¶
DOFConstraint å®ç°ç»†èŠ‚çš„æ§åˆ¶
_dirtyPosition _dirtyRotation
```

- OBJæ–‡ä»¶

```javascript

åŸºäºASCIIçš„ä¸‰ç»´é™æ€æ¨¡å‹å­˜å‚¨æ ¼å¼
åŒ…å«ä¿¡æ¯ï¼Œé¡¶ç‚¹åæ ‡ï¼Œé¢æ•°ç»„ï¼Œçº¹ç†åæ ‡ï¼Œæè´¨æ–‡ä»¶
```

# æ‰©å±•æ’ä»¶

- whs.js <https://github.com/WhitestormJS/whs.js>

  - ğŸš€ ğŸŒª Super-fast 3D framework for Web Applications ğŸ¥‡ & Games ğŸ®. Based on Three.js
