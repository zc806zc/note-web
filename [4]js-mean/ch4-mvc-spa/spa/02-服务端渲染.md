# 服务端渲染

# 同构

- <https://juejin.im/entry/5a4c904b6fb9a0450672043c?utm_medium=fe&utm_source=weixinqun>
- 一套代码既可以在服务端运行又可以在客户端运行，这就是同构应用
- React同构

  - react-server
  - next.js
  - beidou <https://github.com/alibaba/beidou>
  - 基于 eggjs 加入可拔插的同构能力

- 策略

  - 采用编译后的React版本
  - 模块拆分
  - 模块级别缓存
  - 组件级缓存
  - 采用hsf代替http对外提供服务
  - 部分模块客户端渲染(对SEO无用的部分): 直接降低SSR部分的复杂度
  - 智能降级

- 优势

  - 性能: 通过Node直出, 将传统的三次串行http请求简化成一次http请求，降低首屏渲染时间
  - SEO: 服务端渲染对搜索引擎的爬取有着天然的优势，虽然阿里电商体系对SEO需求并不强，但随着国际化的推进, 越来越多的国际业务加入阿里大家庭，很多的业务依赖Google等搜索引擎的流量导入，比如Lazada
  - 兼容性: 部分展示类页面能够有效规避客户端兼容性问题，比如白屏
